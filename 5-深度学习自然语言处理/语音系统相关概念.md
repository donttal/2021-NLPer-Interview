# 语音系统相关概念
[toc]
## 语音合成标记语言-SSML丨Speech Synthesis Markup Language

Text-to-speech一般分为两个步骤：

1. 文本处理。这一步做的事情是把文本转化成音素序列，并标出每个音素的起止时间、频率变化等信息。作为一个预处理步骤，它的重要性经常被忽视，但是它涉及到很多值得研究的问题，比如拼写相同但读音不同的词的区分、缩写的处理、停顿位置的确定，等等。这就需要一套语言学标注系统，先给文本分词，再把文本转换成只有单词串起来的句子（例如把 1989 转成 nineteen eighty nine）后，再给这句话标注音素级别（上一个音素／下一个音素）、音节级别（单词的第几个音节）、单词级别（词性／在句子中的位置）等对语音合成有帮助的信息。


2. 语音合成。狭义上这一步专指根据音素序列（以及标注好的起止时间、频率变化等信息）生成语音，广义上它也可以包括文本处理的步骤。
这一步主要有三类方法
- (a) 拼接法，即从事先录制的大量语音中，选择所需的基本单位拼接而成。这样的单位可以是音节、音素等等；为了追求合成语音的连贯性，也常常用使用双音子（从一个音素的中央到下一个音素的中央）作为单位。拼接法合成的语音质量较高，但它需要录制大量语音以保证覆盖率。
- (b) 参数法，即根据统计模型来产生每时每刻的语音参数（包括基频、共振峰频率等），然后把这些参数转化为波形。参数法也需要事先录制语音进行训练，但它并不需要100%的覆盖率。参数法合成出的语音质量比拼接法差一些。
- (c) 声道模拟法。参数法利用的参数是语音信号的性质，它并不关注语音的产生过程。与此相反，声道模拟法则是建立声道的物理模型，通过这个物理模型产生波形。这种方法的理论看起来很优美，但由于语音的产生过程实在是太复杂，所以实用价值并不高。

## 语音识别技术讲解
语音识别技术拆分下来，主要可分为“输入——编码——解码——输出 ”4个流程

1. 给音频进行信号处理后，便要按帧（毫秒级）拆分，并对拆分出的小段波形按照人耳特征变成多维向量信息
2. 将这些帧信息识别成状态（可以理解为中间过程，一种比音素还要小的过程）
3. 再将状态组合形成音素（通常3个状态=1个音素）
4. 最后将音素组成字词（dà jiā hǎo）并串连成句 。于是，这就可以实现由语音转换成文字了。

## 什么是音素？
在语音合成中，有一种关键技术是将文字拆解成音素，再去语音库里匹配相同音素的语音片段，来实现文字转换语音，那么音素到底是什么？

音素其实就是人在说话时，能发出最最最最短小、简洁的不能再分割的发音，不同的音素就是不同的短发音，可以组成不同的长发音，再组成词句形成语言。

中文汉字的最小单位是字，但是一个字可能有多个音素，如下面的例子：

如汉语音节 ā（啊）只有一个音素，ài（爱）有两个音素，dāi（呆）有三个音素等。

用国际音标标注语音的方法称作标音法，有宽式和严式两种。宽式标音法以能辨义的音位标音，严式标音法则以严格的音素区别来标音，尽量表现各音素间的区别，宽式标音法采用的符号有限，而严式标音法所采用的符号极多，但两者各有用途。

## 语音合成（Text to Speech | TTS）

语音合成就是让机器模仿人类说话。即输入一段文字，最终输出一段语音。

做个比较，当机器的“脑子”里想到了一段内容时，或者是看到了一段话时，知道哪些字应该怎么读：

1. 拆解文字，得到音素的时长、频率变化，就和我们有时拆解文字的偏旁、前后缀来获得文字发音一样
2. 知道哪些字的组合会是一个词，将这段内容按照人类容易理解的方式说出来
3. 在说出来的过程中还会结合这个人的说话习惯、发音特色、口音特点等，得到一段人类特性明显的语音。（Google 已经做出了很像人类的机器声音，[查看视频演示](https://www.iqiyi.com/w_19rxtvxj29.html)）

和人类学说话一样，机器也需要通过大量的语音片段作为“听力材料”，才能学会发音技巧。以及还得学会一些语言规则，比如语法和韵律，才能像人类一样，说话语气、语境，能表达出字面之外的表意。不然，机器只会说出生硬、没有情感、不连贯的话（就像一些动漫或游戏作品中机器人角色的对话）。

音合成技术目前主要应用在读书软件、导航软件、对话问答系统等中。

### 维基百科版本

语音合成是人类语音的人工生成。用于此目的的计算机系统称为语音计算机或语音合成器，并且可以用软件或硬件产品实现。甲文本到语音（TTS）系统转换正常语言文本转换成语音; 其他系统呈现符号语言表征，如将语音转录为发音。